1. 查询mapping

   ```
   curl -X GET "localhost:9200/kgbased_auto_user_profile_test/_mapping?pretty"
   ```

2. 查询索引

   ```
   curl 'localhost:9200/_cat/indices?v'
   ```

3.创建索引

```
curl -X PUT "localhost:9200/test-index-01?pretty"
```

4. put mapping

```
curl -X PUT "localhost:9200/test-index-01/_mapping/_doc?pretty" -H 'Content-Type: application/json' -d'{"properties":{"userId":{"type":"keyword"},"userInfo":{"type":"nested"}}}'
```

5. 插入数据

   ```
   curl -X PUT "localhost:9200/test-index-01/_doc/1?pretty" -H 'Content-Type: application/json' -d'{"userId":"user1","userInfo":{"age":30,"name":"bob"}}'
   ```

6. 根据ID查找某条数据

   ```
   curl -X GET "localhost:9200/test-index-01/_doc/1?pretty"
   ```

7. nested query 

   ```
   curl -X GET 'localhost:9200/test-index-01/_doc/_search?pretty' -H 'Content-Type: application/json' -d '{"query":{"nested":{"path":"userInfo","query":{"match":{"userInfo.age":"30"}}}}}'
   
   curl -X GET 'localhost:9200/test-index-01/_doc/_search?pretty' -H 'Content-Type: application/json' -d '{"query":{"nested":{"path":"userInfo","query":{"match":{"userInfo.name":"bob"}}}}}'
   ```

8. 删除某个索引

   ```
   curl -X DELETE "localhost:9200/kgbased_auto_user_profile_test?pretty"
   ```
